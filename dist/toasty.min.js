/*! Toasty.js - v1.3.0 - 2017-06-30
* https://egalink.github.io/Toasty.js/
* Copyright (c) 2015-2017 Jakim Hern√°ndez; Licensed MIT */

!function(){"use strict";function a(b,c){for(var d in b)if(1==b.hasOwnProperty(d))switch(typeof b[d]){case"object":a(b[d],c);break;case"string":for(var e in c)1==c.hasOwnProperty(e)&&(b[d]=b[d].replace(e,c[e]))}return b}function b(a){var b=JSON.stringify(a);return JSON.parse(b)}function c(){var a,b=document.createElement("transitionElement"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(a in c)if(void 0!==b.style[a])return c[a]}function d(a){return a.parentElement||a.parentNode}var e=["fade","slideLeftFade","slideLeftRightFade","slideRightFade","slideRightLeftFade","slideUpFade","slideUpDownFade","slideDownFade","slideDownUpFade","pinItUp","pinItDown"],f={classname:"toast",transition:"fade",insertBefore:!0,duration:4e3,enableSounds:!1,autoClose:!0,progressBar:!1,sounds:{info:"./dist/sounds/info/1.mp3",success:"./dist/sounds/success/1.mp3",warning:"./dist/sounds/warning/1.mp3",error:"./dist/sounds/error/1.mp3"},onShow:function(a){},onHide:function(a){},prependTo:document.body.childNodes[0]},g={container:"{:classname}-container",mainwrapp:"{:classname}-wrapper",toasts:{info:"{:classname}--info",success:"{:classname}--success",warning:"{:classname}--warning",error:"{:classname}--error"},animate:{init:"{:transition}-init",show:"{:transition}-show",hide:"{:transition}-hide"},progressbar:"{:classname}-progressbar",playerclass:"{:classname}-soundplayer"},h=function(a,b){var c={};for(var d in a)c[d]=b.hasOwnProperty(d)?b[d]:a[d];return c},i=function(a,b,c){return b=b||c.duration,0==b&&(b=50*a.length),Math.floor(b)},j=function(a,b,d,e,f,g){function h(b){b.target.removeEventListener(b.type,h,!1),"function"==typeof g&&g(a)}function i(){b.addEventListener(c(),h,!1),o(b,e.show)}var j=0,k=d.childNodes;k=k[!0===f?0:k.length],d.insertBefore(b,k),function(a,b){clearTimeout(j),j=setTimeout(a,b)}(i,100)},k=function(a,b,e,f,g){function h(a,b){clearTimeout(l),l=setTimeout(a,b)}function i(b){b.target.removeEventListener(b.type,i,!1),h(j,0),"function"==typeof g&&g(a)}function j(){var a=d(b);b.remove(),a.childNodes.length<1&&d(a).remove()}function k(){b.addEventListener(c(),i,!1),o(b,f.hide)}var l=0;h(k,e+100)},l=function(a,b,c,d,e,f){function g(g){g.stopPropagation(),p(b,f),k(a,b,c,d,e)}o(b,f),b.addEventListener("click",g)},m=function(a,b,c,e){var f=c[a],g=document.createElement("audio");g.autoplay="autoplay",g.onended=function(){var a=d(this);this.remove(),a.childNodes.length<1&&d(a).remove()},g.className=e,g.innerHTML='<source src="'+f+'" type="audio/mpeg"/><embed hidden="true" autoplay="false" loop="false" src="'+f+'" />',d(b).appendChild(g)},n=function(a,b,c,d){function e(){var e=document.createElement("div");o(e,d.progressbar),o(e,d.progressbar+"--"+a),b.appendChild(e);var f=0,g=0,h=setInterval(function(){f++,g=Math.round(1e3*f/c),g>100?clearInterval(h):e.style.width=g+"%"},10)}var f=0;!function(a,b){clearTimeout(f),f=setTimeout(a,b)}(e,100)},o=function(a,b){(o=document.documentElement.classList?function(a,b){a.classList.add(b)}:function(a,b){if(!a)return!1;0==containsClass(a,b)&&(a.className+=(a.className?" ":"")+b)})(a,b)},p=function(a,b){(p=document.documentElement.classList?function(a,b){a.classList.remove(b)}:function(a,b){if(!a||!a.className)return!1;var c=new RegExp("(^|\\s)"+b+"(\\s|$)","g");a.className=a.className.replace(c,"$2")})(a,b)},q=function(a,b){if(this.settings={},this.classmap={},this.configure("object"==typeof a?a:{}),"object"==typeof e)for(var c in e)!0===e.hasOwnProperty(c)&&this.transition(e[c]);if("object"==typeof b)for(var c in b)!0===b.hasOwnProperty(c)&&this.transition(b[c])};q.prototype.configure=function(a){var b=Object.keys(this.settings).length;return this.settings=b>1?h(this.settings,a):h(f,a),this},q.prototype.transition=function(c){return this.classmap[c]=b(g),this.classmap[c]=a(this.classmap[c],{"{:classname}":this.settings.classname,"{:transition}":c}),this},q.prototype.toast=function(a,b,c){var e=this.classmap,f=this.settings,g=e[f.transition],h=null;h="string"==typeof f.transition?document.querySelector("."+g.container+"--"+f.transition):document.querySelector("."+g.container);var i=!!h;if(i)h=h.querySelector("."+g.mainwrapp);else{h=document.createElement("div"),o(h,g.container),o(h,g.container+"--"+f.transition);var p=document.createElement("div");o(p,g.mainwrapp),h.appendChild(h=p)}var q=document.createElement("div");return o(q,f.classname),o(q,g.toasts[a]),o(q,g.animate.init),q.innerHTML=b,i||document.body.insertBefore(d(h),f.prependTo),1==f.enableSounds&&m(a,h,f.sounds,g.playerclass),j(a,q,h,g.animate,f.insertBefore,f.onShow),f.autoClose?k(a,q,c,g.animate,f.onHide):l(a,q,0,g.animate,f.onHide,"close-on-click"),1==f.progressBar&&1==f.autoClose&&n(a,q,c,g),this},q.prototype.info=function(a,b){b=i(a,b,this.settings),this.toast("info",a,b)},q.prototype.success=function(a,b){b=i(a,b,this.settings),this.toast("success",a,b)},q.prototype.warning=function(a,b){b=i(a,b,this.settings),this.toast("warning",a,b)},q.prototype.error=function(a,b){b=i(a,b,this.settings),this.toast("error",a,b)},"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),window.Toasty=q}(window,document);